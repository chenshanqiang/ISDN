<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>音视频一线通终端管理设置</title>
        <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE10,chrome=1">
        <link rel="stylesheet" type="text/css" href="./css/main.css">
        <link rel="stylesheet" type="text/css" href="./font-awesome/css/font-awesome.css"> 
        <style type="text/css">
            #nav li {
                margin-right: 20px;
                display: inline-block;
                height: 55px;
                line-height: 55px;
                float: left;
            }
        </style>
    </head>
    <body onload="onloadmain()">
        <div class="layui-layout layui-layout-admin">
            <div class="layui-header header header-demo">
                <div class="layui-main">
                    <a style="display:inline-block;" class="logo" href="javascript:;">
                        <img src="images/mainlog.png" style="height: 40px;"> </a>
                    <div id='classNameMain' style='display:inline-block; color:#175B20; margin-left: 10%;font-size: 18px;font-weight:900;'></div>
                    <ul class="layui-nav" id="nav" lay-filter="">
                        <li style="color: black;">
                            <span id='user'></span>欢迎您&nbsp;! </li>
                        <li id="status" style="color:#20852C;"> </li>
                        <li id="temperature" style="color: black;"> </li>
                        <li id="exit" style="color: black;cursor: pointer;" onmouseover="changeColor1()" onmouseleave="changeColor2()"> 退出 </li>
                    </ul>
                </div>
            </div>
            <div class="layui-side layui-bg-black x-side">
                <div class="layui-side-scroll">
                    <ul class="layui-nav layui-nav-tree site-demo-nav" lay-filter="side">
                        <li class="layui-nav-item layui-nav-itemed">
                            <a class="javascript:;" href="javascript:;">
                                <i class="fa fa-window-maximize fa-lg fa-fw" aria-hidden="true"></i>
                                <cite>设备控制</cite>
                            </a>
                            <dl class="layui-nav-child">
                                <dd class="layui-this">
                                    <a href="javascript:;" onclick="href_web('control_video')" target="main">
                                        <cite>视频切换</cite>
                                    </a>
                                </dd>
                                <dd class="">
                                    <a href="javascript:;" onclick="href_web('control_volume')" target="main">
                                        <cite>音量控制</cite>
                                    </a>
                                </dd>
                                <dd class="">
                                    <a href="javascript:;" onclick="href_web('control_smart')" target="main">
                                        <cite>智能控制</cite>
                                    </a>
                                </dd>
                                <dd class="">
                                    <a href="javascript:;" onclick="href_web('control_airConditioning')" target="main">
                                        <cite>空调控制</cite>
                                    </a>
                                </dd>
                                <!--<dd class="">
                                    <a href="javascript:;" onclick="href_web('log_export')" target="main">
                                        <cite>日志导出</cite>
                                    </a>
                                </dd>-->
                            </dl>
                        </li>
                        <li class="layui-nav-item">
                            <a class="javascript:;" href="javascript:;">
                                <i class="fa fa-cog fa-lg fa-fw" aria-hidden="true"></i>
                                <cite>本机参数配置</cite>
                            </a>
                            <dl class="layui-nav-child">
                                <dd class="">
                                    <a href="javascript:;" onclick="href_web('configure_network')" target="main">
                                        <cite>网络配置</cite>
                                    </a>
                                </dd>
                                <dd class="">
                                    <a href="javascript:;" onclick="href_web('configure_port')" target="main">
                                        <cite>串口配置</cite>
                                    </a>
                                </dd>
                                <dd class="">
                                    <a href="javascript:;" onclick="href_web('onOff_linkage')" target="main">
                                        <cite>寻呼器联动</cite>
                                    </a>
                                </dd>
                                <dd class="">
                                    <a href="javascript:;" onclick="href_web('equipment_linkage')" target="main">
                                        <cite>设备启用禁用</cite>
                                    </a>
                                </dd>
                                <dd class="">
                                    <a href="javascript:;" onclick="href_web('configure_support')" target="main">
                                        <cite>配置支持</cite>
                                    </a>
                                </dd>
                                <dd class="air_conditioning">
                                    <a href="javascript:;" onclick="href_web('configure_air_conditioning')" target="main">
                                        <cite>空调配置</cite>
                                    </a>
                                </dd>
                            </dl>
                        </li>
                        <li class="layui-nav-item">
                            <a class="javascript:;" href="javascript:;">
                                <i class="fa fa-cog fa-lg fa-fw" aria-hidden="true"></i>
                                <cite>录播配置</cite>
                            </a>
                            <dl class="layui-nav-child">
                                <dd class="">
                                    <a href="javascript:;" onclick="href_web('configure_record')">
                                        <cite>导播命令配置</cite>
                                    </a>
                                </dd>
                                <dd class="">
                                    <a href="javascript:;" onclick="href_web('recorded_control')">
                                        <cite>录播控制</cite>
                                    </a>
                                </dd>
                            </dl>
                        </li>
                        <li class="layui-nav-item">
                            <a class="javascript:;" href="javascript:;">
                                <i class="fa fa-sticky-note fa-lg fa-fw" aria-hidden="true"></i>
                                <cite>系统升级</cite>
                            </a>
                            <dl class="layui-nav-child">
                                <dd class="">
                                    <a href="javascript:;" onclick="href_web('system_update')">
                                        <cite>升级</cite>
                                    </a>
                                </dd>
                            </dl>
                        </li>
                        <li class="layui-nav-item">
                            <a class="javascript:;" href="javascript:;">
                                <i class="fa fa-info-circle fa-lg fa-fw" aria-hidden="true"></i>
                                <cite>关于本机</cite>
                            </a>
                            <dl class="layui-nav-child">
                                <dd class="">
                                    <a href="javascript:;" onclick="href_web('local_info')">
                                        <cite>本机系统版本信息</cite>
                                    </a>
                                </dd>
                                <dd class="">
                                    <a href="javascript:;" onclick="href_web('online_status')">
                                        <cite>在线状态</cite>
                                    </a>
                                </dd>
                            </dl>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="layui-tab layui-tab-card site-demo-title x-main" lay-filter="x-tab" lay-allowclose="true">
                <div class="x-slide_left"></div>
                <div class="layui-tab-content site-demo site-demo-body">
                    <div class="layui-tab-item layui-show">
                        <iframe frameborder="0" name="main" src="control_video.html" class="x-iframe" id="main-iframe"></iframe>
                    </div>
                </div>
            </div>
            <div class="layui-footer footer" style=" height:40px;line-height: 40px; border-top: 4px solid #9F9F9F;"> 版权所有©广州市迪士普智慧科技有限公司 </div>
        </div>
        <script type="text/javascript" src="./js/jquery-3.2.1.js"></script>
        <script type="text/javascript" src="./layui/layui.js"></script>
        <script type="text/javascript" src="./js/security.js"></script>
        <script type="text/javascript" src="./js/protocal.js"></script>
        <script type="text/javascript" src="./js/base64.js"></script>
        <script type="text/javascript" src="./js/forbid_backspace.js"></script>
        <script type="text/javascript">
            var usernameone = getCookienameone("usernameone"),
                pwdone = getCookiepwdone("passone");
            if(usernameone != "dsppa" && pwdone != "dsppa") {} else {}
            layui.use(['layer', 'element'], function () {
                var layer = layui.layer,
                    $ = layui.jquery;
                //导航的hover效果、二级菜单等功能，需要依赖element模块
                // 侧边栏点击隐藏兄弟元素
                $('.layui-nav-item').click(function (event) {
                    $(this).siblings().removeClass('layui-nav-itemed');
                });
                height = $('.layui-layout-admin .site-demo').height();
                $('.layui-layout-admin .site-demo').height(height - 100);
                if($(window).width() < 750) {
                    trun = 0;
                    $('.x-slide_left').css('background-position', '0px -61px');
                } else {
                    trun = 1;
                }
                $('.x-slide_left').click(function (event) {
                    if(trun) {
                        $('.x-side').animate({
                            left: '-200px'
                        }, 200).siblings('.x-main').animate({
                            left: '0px'
                        }, 200);
                        $(this).css('background-position', '0px -61px');
                        $('.layui-footer').css("margin-left", "-200px");
                        trun = 0;
                    } else {
                        $('.x-side').animate({
                            left: '0px'
                        }, 200).siblings('.x-main').animate({
                            left: '200px'
                        }, 200);
                        $(this).css('background-position', '0px 0px');
                        $('.layui-footer').css("margin-left", "0px");
                        trun = 1;
                    }
                });
            });
            
            function jumpmain(){
            	location.href = './index.html';
            }
            document.getElementById('exit').onclick = function () {
                location.href = './index.html';
                setCookie("username", "", "pass", "", "usernameone", "", "passone", "");
            };
            //When the page is loaded, the function is executed      
            function onloadmain() {
                try {
                    var userOne = getCookiename("usernameone");
                    document.getElementById('user').innerHTML = userOne;
                    var base = new Base64();
                    var result = protocal_get('main', null);
                    if(result.length < 3) {
                        //throw "servernet result count failure";
                    } else {
                        if(result[0] == '1') {
                            $('#status').text('系统已连接');
                        } else {
                            $('#status').text('系统未连接');
                        }
                        var resultClassName = base.decode(result[1]);
                        $('#classNameMain').text(resultClassName);
                        $('#temperature').text(result[2] + "℃");
                    }
                } catch(err) {
                    //alert(err);
                }
            }

            function changeColor1() {
                $('#exit').attr('color', '#008D8F');
            }

            function changeColor2() {
                $('#exit').attr('color', '#000000');
            }

            function href_web(parse) {
                switch(parse) {
                    case 'control_volume':
                        $('#main-iframe').prop('src', 'control_volume.html');
                        break;
                    case 'control_video':
                        $('#main-iframe').prop('src', 'control_video.html');
                        break;
                    case 'control_smart':
                        $('#main-iframe').prop('src', 'control_smart.html');
                        break;
                    case 'onOff_linkage':
                        $('#main-iframe').prop('src', 'onOff_linkage.html');
                        break;
                    case 'equipment_linkage':
                        $('#main-iframe').prop('src', 'equipment_linkage.html');
                        break;
                    case 'configure_network':
                        $('#main-iframe').prop('src', 'configure_network.html');
                        break;
                    case 'Live_interactive_configuration':
                        $('#main-iframe').prop('src', 'Live_interactive_configuration.html');
                        break;
                    case 'configure_port':
                        $('#main-iframe').prop('src', 'configure_port.html');
                        break;
                    case 'configure_record':
                        $('#main-iframe').prop('src', 'configure_record.html');
                        break;
                    case 'recorded_control':
                        $('#main-iframe').prop('src', 'recorded_control.html');
                        break;
                    case 'system_update':
                        $('#main-iframe').prop('src', 'system_update.html');
                        break;
                    case 'local_info':
                        $('#main-iframe').prop('src', 'local_info.html');
                        break;
                    case 'configure_support':
                        $('#main-iframe').prop('src', 'configure_support.html');
                        break;
                    case 'configure_air_conditioning':
                        $('#main-iframe').prop('src', 'configure_air_conditioning.html');
                        break;
                    case 'control_airConditioning':
                        $('#main-iframe').prop('src', 'control_airConditioning.html');
                        break;
                    case 'log_export':
                        $('#main-iframe').prop('src', 'log_export.html');
                        break;
                    case 'online_status':
                        $('#main-iframe').prop('src', 'online_status.html');
                        break;
                }
            }
        </script>
    </body>
</html>